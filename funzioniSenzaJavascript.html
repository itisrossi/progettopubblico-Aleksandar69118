<!DOCTYPE html>
<head>

</head>

<body>
    <p id="quickSort">superciaone</p>
    <p id="mergeSort">superciaone</p>
    </p>
    <script>
        let vettore = [];
        for (let i = 0; i <= 9; i++){
            vettore[i] = Number(prompt("Inserisci numero in posizione " + i.toString() + " del vettore"));
            while (vettore[i] == "")
                vettore[i] = prompt("Non hai inserito nulla: inserisci di nuovo un numero");
        }

        function scambia(v, sinistra, destra) {
            let a = v[sinistra];
            v[sinistra] = v[destra];
            v[destra] = a;
        }

        function partition(v, sinistra, destra) {
            let pivot = v[Math.floor((destra + sinistra) / 2)], i = sinistra, j = destra;
            while (i <= j) {
                while (v[i] < pivot) {
                    i++;
                }
                while (v[j] > pivot) {
                    j--;
                }
                if (i <= j) {
                    scambia(v, i, j);
                    i++;
                    j--;
                }
            }
            return i;
        }

        function quickSort(v, sinistra, destra) {
            let indice = partition(v, sinistra, destra);
            if (sinistra < indice - 1) 
                quickSort(v, sinistra, indice - 1);
            if (indice < destra) 
                quickSort(v, indice, destra);
            return v;
        }

        
        function mergeArrays(leftArray, rightArray) {
            let array = [];
            while (leftArray.length && rightArray.length) {
                if (leftArray[0] < rightArray[0]) {
                    array.push(leftArray.shift());
                } else {
                    array.push(rightArray.shift());
                }
            }
            return [ ...array, ...leftArray, ...rightArray];
        }

        function mergeSort(array) {
            const middleIndex = array.length / 2;
            if(array.length < 2) {
                return array;
            }
            const leftArray = array.splice(0, middleIndex);
            return mergeArrays(mergeSort(leftArray), mergeSort(array));
        }
        array = [...vettore];

        document.getElementById("quickSort").innerHTML = quickSort(vettore, 0, vettore.length - 1);
        document.getElementById("mergeSort").innerHTML = mergeSort(array);
    </script>
</body>
