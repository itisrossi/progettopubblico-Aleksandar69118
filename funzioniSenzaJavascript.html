<!DOCTYPE html>
<head>

</head>

<body>
    <p id="quickSort">superciaone</p>
    <p id="mergeSort">superciaone</p>
    <script>
        let vettore = [];
        for (let i = 0; i <= 49; i++){
            vettore[i] = Math.floor(Math.random() * 1000);
        }

        function scambia(v, sinistra, destra) {
            let a = v[sinistra];
            v[sinistra] = v[destra];
            v[destra] = a;
        }

        function partition(v, sinistra, destra) {
            let pivot = v[Math.floor((destra + sinistra) / 2)], i = sinistra, j = destra;
            while (i <= j) {
                while (v[i] < pivot) {
                    i++;
                }
                while (v[j] > pivot) {
                    j--;
                }
                if (i <= j) {
                    scambia(v, i, j);
                    i++;
                    j--;
                }
            }
            return i;
        }

        function quickSort(v, sinistra, destra) {
            let indice = partition(v, sinistra, destra);
            if (sinistra < indice - 1) 
                quickSort(v, sinistra, indice - 1);
            if (indice < destra) 
                quickSort(v, indice, destra);
            return v;
        }

        
        function mergeArrays(leftArray, rightArray) {
            let array = [];
            while (leftArray.length && rightArray.length) {
                if (leftArray[0] < rightArray[0]) {
                    array.push(leftArray.shift());
                } else {
                    array.push(rightArray.shift());
                }
            }
            return [ ...array, ...leftArray, ...rightArray];
        }

        function mergeSort(array) {
            const middleIndex = array.length / 2;
            if(array.length < 2) {
                return array;
            }
            const leftArray = array.splice(0, middleIndex);
            return mergeArrays(mergeSort(leftArray), mergeSort(array));
        }
        array = [...vettore];
        let a = performance.now();
        vettore = quickSort(vettore, 0, vettore.length - 1);
        let b = performance.now() - a;

        a = 0;

        a = performance.now();
        array = mergeSort(array);
        let c = performance.now() - a;

        document.getElementById("quickSort").innerHTML = "Vettore sortito con quickSort: " + vettore + "<br>" + " Tempo di esecuzione: " + b;
        document.getElementById("mergeSort").innerHTML = "Vettore sortito con mergeSort: " + array + "<br>" + " Tempo di esecuzione: " + c;
    </script>
</body>
